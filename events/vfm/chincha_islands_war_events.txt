namespace = chincha_events

chincha_events.1 = { 
	type = country_event
	placement = root

	title = chincha_events.1.t
	desc = chincha_events.1.d
	flavor = chincha_events.1.f

	event_image = {
		video = "gfx/event_pictures/southamerica_war_civilians.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/war_civilians"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 1

	trigger = {	
        year <= 1870
		root= c:PEU        
		c:SPA = {
			relations:root <= relations_threshold:amicable
		}
		NOT  = { has_variable = chincha_islands_war_var }        	
	}

	immediate = {
		set_variable = chincha_islands_war_var
	}

	option = { #It's a national matter
		default_option = yes
		name = chincha_events.1.a

        change_relations = {
			country = c:SPA
			value = -20
        }

        c:SPA = {
		    trigger_event = {
			    id = chincha_events.2
			    days = 7
			}    
		}
    }

	option = { #We owe apologies to Spain; reparations to Spain?
		name = chincha_events.1.b

        change_relations = {
			country = c:SPA
			value = 20
        }

		add_modifier = {
			    name = apologies_spain
			    months = normal_modifier_time    
		}
    }
}

chincha_events.2 = { 
	type = country_event
	placement = root

	title = chincha_events.2.t
	desc = chincha_events.2.d
	flavor = chincha_events.2.f

	event_image = {
		video = "votp_gunboat_diplomacy"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 1

	trigger = {	     	
	}

	immediate = {
	}

	option = { #The empire strikes back
		default_option = yes
		name = chincha_events.2.a

        create_diplomatic_play = {

            name = chincha_islands

            target_country = c:PEU

            war = no

            type = dp_make_protectorate
        }
    }

	option = { #We are not prepared
		name = chincha_events.2.b

		add_modifier = {
			    name = no_chincha_islands_war
			    months = normal_modifier_time    
		}
    }
}
   