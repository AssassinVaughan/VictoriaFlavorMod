namespace = journal_flavor_switzerland

journal_flavor_switzerland.1 = { 
	type = country_event
	placement = ROOT

	title = journal_flavor_switzerland.1.t
	desc = journal_flavor_switzerland.1.d
	flavor = journal_flavor_switzerland.1.f

	event_image = {
		video = "gfx/event_pictures/unspecific_military_parade.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/military_parade"

	icon = "gfx/interface/icons/event_icons/event_centralization.dds"

	duration = 1

	immediate = {
	}

	option = {
		name = journal_flavor_switzerland.1.a
		default_option = yes
		
		random_interest_group = {
			limit = {
				is_marginal = no
				is_in_government = no
				law_stance = {
					law = law_type:law_federal
					value < neutral
				}
				law_stance = {
					law = law_type:law_state_religion
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_possible_revolution_risk
				months = normal_modifier_time
			}
		}

	    ai_chance = {
			base = 1	
		}
    }
}

# JE timeout, sonderbund separate alliance, revolt
journal_flavor_switzerland.2 = { 
	type = country_event
	placement = ROOT

	title = journal_flavor_switzerland.2.t
	desc = journal_flavor_switzerland.2.d
	flavor = journal_flavor_switzerland.2.f

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/leader_arguing"

	icon = "gfx/interface/icons/event_icons/event_revolt.dds"

	duration = 1

	immediate = {
	    create_country = {
			tag = SBD
			origin = this
			state = s:STATE_EAST_SWITZERLAND.region_state:SWI
			on_created = {
				change_relations = {
					country = c:SWI
					value = -50
				}
				set_ruling_interest_groups = { ig_landowners ig_rural_folk ig_devout }
		
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_autocracy
				}
			}
			activate_law = law_type:law_autocracy
		}
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_state_religion
				}
			}
			activate_law = law_type:law_state_religion
		}
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_landed_voting
				}
			}
			activate_law = law_type:law_landed_voting
		}
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_decentralized
				}
			}
			activate_law = law_type:law_decentralized
		}
		
				add_modifier = {
					name = modifier_paris_commune_not_dying_economy
					months = normal_modifier_time
				}
				call_election = {
					months = 1
				}
			}
			
			# TODO: set IG leader ideologies that make sense
		}
				
				
		create_diplomatic_play = {
			name = Sonderbund_War
			escalation = 65
			type = dp_annex_war

			target_state = s:STATE_EAST_SWITZERLAND.region_state:SWI
		}	
	}
	
	option = { #"Declare the confederation illegal!"
	    default_option = yes
		name = journal_flavor_switzerland.2.a
	}
	
	#option = { #"Send an envoy"
	#	name = journal_flavor_switzerland.2.b
	#}
	
	option = { #"Their cause is right!"
		name = journal_flavor_switzerland.2.c
		play_as = c:SBD
	}
}

journal_flavor_switzerland.3 = { 
	type = country_event
	placement = ROOT

	title = journal_flavor_switzerland.3.t
	desc = journal_flavor_switzerland.3.d
	flavor = journal_flavor_switzerland.3.f

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/leader_arguing"

	icon = "gfx/interface/icons/event_icons/event_revolt.dds"

	duration = 1

	immediate = {
	}

    option = {
		name = journal_flavor_switzerland.3.a
		default_option = yes
		
	    random_interest_group = {
			limit = {
				is_marginal = no
				is_in_government = no
				law_stance = {
					law = law_type:law_federal
					value > neutral
				}
				law_stance = {
					law = law_type:law_state_religion
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_possible_revolution_risk
				months = normal_modifier_time
			}
		}
		
		ai_chance = {
			base = 1	
		}
    }
}

# sonderbund, TODO: opposite event for conservative government?
journal_flavor_switzerland.4 = { 
	type = country_event
	placement = ROOT

	title = journal_flavor_switzerland.4.t
	desc = journal_flavor_switzerland.4.d
	flavor = journal_flavor_switzerland.4.f

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/leader_arguing"

	icon = "gfx/interface/icons/event_icons/event_revolt.dds"

	duration = 1
	
	trigger = {
	    has_law = law_type:law_federal
		any_interest_group = {
			is_marginal = no
			law_stance = {
				law = law_type:law_federal
				value < neutral
			}
		}
	}

	immediate = {
	}

    # Lets goooo
    option = {
	    name = journal_flavor_switzerland.4.a
		default_option = yes
	    random_interest_group = {
			limit = {
				is_marginal = no
				law_stance = {
					law = law_type:law_federal
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_possible_revolution_risk
				months = normal_modifier_time
			}
		}
		
		add_radicals = {
			value = medium_radicals
		}
		
		add_modifier = {
		    name = modifier_sonderbund
			months = normal_modifier_time
		}
	}
	
	# Appease
    option = {
	    name = journal_flavor_switzerland.4.b
	    random_interest_group = {
			limit = {
				is_marginal = no
				law_stance = {
					law = law_type:law_federal
					value < neutral
				}
				law_stance = {
					law = law_type:law_state_religion
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_prestigious_endorsement
				months = normal_modifier_time
			}
		}
		
		add_radicals = {
			value = small_radicals
		}
		
		add_modifier = {
		    name = modifier_sonderbund
			months = normal_modifier_time
		}
	}
}