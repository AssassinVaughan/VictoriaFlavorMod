#The Frontier Wars
je_frontier_wars = {
	icon = "gfx/interface/icons/event_icons/event_map.dds"
    group = je_group_internal_affairs

	immediate = {
		ROOT = {
			# To use saved scopes in loc: JournalEntry.GetTopScope.sCountry('saved_scope_name') or SCOPE.sCountry('saved_scope_name')
			save_scope_as = frontier_war_country_je
		}
	}
	complete = {
		scope:frontier_war_country_je = {
			owns_entire_state_region = STATE_WESTERN_AUSTRALIA 
		}
	}

	on_complete = {
		trigger_event = {
			id = journal_flavor_australia.2
			days = 0
		}
	}

    should_be_pinned_by_default = yes
	weight = 20
}

#The Royal Claims
je_western_australia_claim = {
	icon = "gfx/interface/icons/event_icons/event_map.dds"
    group = je_group_internal_affairs

	immediate = {
		c:WAS = {
			# To use saved scopes in loc: JournalEntry.GetTopScope.sCountry('saved_scope_name') or SCOPE.sCountry('saved_scope_name')
			save_scope_as = west_australia_je
		}
	}
	complete = {
		scope:west_australia_je = {
			owns_entire_state_region = STATE_WESTERN_AUSTRALIA 
		}
	}

	on_complete = {
		trigger_event = {
			id = journal_flavor_australia.2
			days = 0
		}
	}

    should_be_pinned_by_default = yes
	weight = 20
}
#The Southern Prison
je_convict_system = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
    group = je_group_internal_affairs

	timeout = 3650
	scripted_progress_bar = convict_system_progress_bar

	scripted_button = je_import_convicts_button
	scripted_button = je_sway_settlers_button

	immediate = {
		ROOT = {
			save_scope_as = je_convict_country_scope
			set_variable = {
				name = convict_progress_var
				value = 0
			}
		}
	}
	on_weekly_pulse = {
		events = {
			hidden_ast_events.1
		}
		effect = {
			if = {
				limit = {
					has_variable = importing_convicts_var
				}
				set_variable = {
					name = convict_progress_var
					value = -1
				}
			}
			else_if = {
				limit = {
					has_variable = swaying_settlers_var
				}
				set_variable = {
					name = convict_progress_var
					value = 1
				}
			}
		}
	}
	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					has_variable = importing_convicts_var
				}
			}
		}
		random_events = {
			185 = 0
			5 = flavor_ast_convict_events.4 
			5 = flavor_ast_convict_events.5 
			#Anti-transportation League
			5 = flavor_ast_convict_events.6 
		}
	}

	on_timeout = {
		trigger_event = { id = flavor_ast_convict_events.3 }
	}

	complete = {
		OR = {
			pop_type_percent_country = {
				pop_type = slaves
				percent < 0.1
			}
			NOT = {
				has_law = law_type:law_debt_slavery 
			}
		}
	}


	on_complete = {
		trigger_event = {
			id = flavor_ast_convict_events.2
			days = 0
		}
	}

    should_be_pinned_by_default = yes
	weight = 20
}
